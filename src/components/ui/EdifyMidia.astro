---
/**
 * Componente Edify na Mídia
 * Sessão que exibe logos de veículos de mídia onde o Edify foi mencionado
 */

interface Logo {
  logo: string;
  link?: string;
  alt?: string;
}

interface Props {
  title?: string;
  content?: string;
  logos?: Logo[];
}

const { 
  title = '', 
  content = '', 
  logos = [] 
} = Astro.props;
---

<section id="edify-midia" class="edify-midia tw-mb-5 md:tw-mb-0 md:tw-py-16 lg:tw-py-24 tw-bg-white">
  <div class="tw-max-w-7xl tw-mx-auto tw-px-4 sm:tw-px-6 lg:tw-px-8">
    
    <!-- Cabeçalho da seção -->
    <div class="tw-text-center tw-max-w-4xl tw-mx-auto tw-mb-12 lg:tw-mb-16">
      <!-- Título -->
      {title && (
        <h2 class="tw-text-3xl sm:tw-text-4xl lg:tw-text-5xl tw-font-bold tw-text-gray-900 tw-mb-4 lg:tw-mb-6">
          {title}
        </h2>
      )}
      
      <!-- Conteúdo -->
      {content && (
        <p class="tw-text-lg sm:tw-text-xl tw-text-gray-600 tw-leading-relaxed">
          {content}
        </p>
      )}
    </div>
    
    <!-- Grade de logos -->
    {logos && logos.length > 0 ? (
      <div class="tw-grid tw-grid-cols-2 sm:tw-grid-cols-3 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-6 lg:tw-gap-8 tw-items-center tw-justify-items-center">
        {logos.map((logoItem: Logo) => {
          const { logo, link, alt = 'Logo da mídia' } = logoItem;
          
          if (!logo) return null;
          
          const imageElement = (
            <img 
              src={logo}
              alt={alt}
              class="tw-max-w-full tw-max-h-full tw-object-contain tw-object-center tw-grayscale hover:tw-grayscale-0 tw-transition-all tw-duration-300 tw-opacity-70 hover:tw-opacity-100"
              loading="lazy"
            />
          );
          
          return link ? (
            <a 
              href={link} 
              target="_blank" 
              rel="noopener noreferrer" 
              class="tw-flex tw-items-center tw-justify-center tw-text-center tw-p-4 sm:tw-p-6 md:tw-p-8 lg:tw-p-[60px] tw-bg-soft-gray hover:tw-bg-secondary tw-shadow-sm hover:tw-shadow-md tw-transition tw-duration-300 tw-ease-in-out tw-w-full tw-aspect-square tw-cursor-pointer"
            >
              {imageElement}
            </a>
          ) : (
            <div class="tw-flex tw-items-center tw-justify-center tw-text-center tw-p-4 sm:tw-p-6 md:tw-p-8 lg:tw-p-[60px] tw-bg-soft-gray hover:tw-bg-secondary tw-shadow-sm hover:tw-shadow-md tw-transition tw-duration-300 tw-ease-in-out tw-w-full tw-aspect-square">
              {imageElement}
            </div>
          );
        })}
      </div>
    ) : (
      <!-- Mensagem quando não há logos -->
      <div class="tw-text-center tw-py-12">
        <p class="tw-text-gray-500 tw-text-lg">Nenhum logo foi adicionado ainda.</p>
      </div>
    )}
    
  </div>
</section>